<section class="tiled-content target-offset" id="projects">
  <div class="pl1">
    <h2>{{ content.projectsHeading }}</h2>
    <p>{{ content.projects }}</p>
  </div>

  <div class="grid-container flow-grid">

    {%- assign projects = 'kleiderordnung, fractal, foodtogether, daskannstdutun, shopwareplugin, reactapp, portfolio, wordpress, planted' | split: ', ' -%}
    {%- for project in projects -%}
      {%- assign projectHeadline = '' -%}
      {%- assign projectHashtags = '' -%}
      {%- assign projectImgAlt = '' -%}
      {%- assign projectDescription = '' -%}
      {%- assign contentfile = '../_data/'
        | appendCurrentLanguageSlug
        | append: '/projects/'
        | append: project
        | append: '.liquid'
      -%}
      {%- include contentfile -%}
      {%- comment -%}
      render does not pass variables, but include does, see
      https://stackoverflow.com/questions/74672545/pass-variables-inside-render-to-outside
      maybe liquid is not the right language in a JS context and Nunjucks would be better?
      {%- endcomment -%}
      <article class="target-offset flip-box-row" id="project-{{ project }}" tabindex="0">
        <div class="flip-box-column">
          <div class="flip-box-front tile">
            <img
              src="{{ 'img/screenshot-' | append: project | append: '.png' }}"
              alt="{{ imgalt }}"
              width="821"
              height="478"
              class="poster-image"
            >
            <div class="tile-content flex bg-peel">
              <header>
                <h3>{{ projectHeadline }}</h3>
              </header>
            </div>

          </div>
          <div class="flip-box-back tile">
            <div class="tile-content flex bg-peel">
                <div class="tile-header-repeat">{{ projectHeadline }}</div>
              <p>
                {{ project | svgIcon }}
              </p>
              <span class="text-line">
                {{ projectDescription }}
              </span>
              <p>
                {%- assign hashtagsArray = projectHashtags | split: ' ' -%}
                {%- for hashtag in hashtagsArray %}
                <span class="hashtag">{{ hashtag }}</span>
                {% endfor -%}
              </p>
            </div>
          </div>
        </div>
      </article>
    {% endfor -%}
  </div>
</section>
