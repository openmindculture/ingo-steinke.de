"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.enhanceFormSubmit=enhanceFormSubmit;function enhanceFormSubmit(){for(var a=function b(a){try{var c=window.location.hostname&&-1<window.location.hostname.indexOf(".de")?"https://www.ingo-steinke.de/contact/send/index.php":"https://www.ingo-steinke.com/contact/send/index.php",d=new XMLHttpRequest;if(!d)return;var e=[],f=a.querySelector(".contactform-field-name");f&&f.value&&e.push("contactform-field-name="+encodeURIComponent(f.value));var g=a.querySelector(".contactform-field-emailfon");g&&g.value&&e.push("&contactform-field-emailfon="+encodeURIComponent(g.value));var h=a.querySelector(".contactform-field-message");h&&h.value&&e.push("&contactform-field-message="+encodeURIComponent(h.value));var i=a.querySelector(".contactform-field-captcha");i&&i.value&&e.push("&contactform-field-captcha="+encodeURIComponent(i.value));var j=a.querySelector(".contactform-field-homepage");if(j&&j.value&&e.push("&contactform-field-homepage="+encodeURIComponent(j.value)),0===e.length)return;var k=e.join("&");d.open("POST",c),d.setRequestHeader("Accept","application/json"),d.setRequestHeader("Content-type","application/x-www-form-urlencoded"),d.setRequestHeader("X-Requested-With","xmlhttprequest"),a.classList.remove("status-initial","status-sent","status-error"),a.classList.add("status-sending"),d.onload=function(){200==d.status?(a.classList.remove("status-initial","status-sending","status-error"),a.classList.add("status-sent")):(a.classList.remove("status-initial","status-sending","status-sent"),a.classList.add("status-error"))},d.send(k),window._paq&&window._paq.push(["trackEvent","actions","contact","sent"])}catch(b){if(console.error("form send error",b),a.classList.remove("status-initial","status-sending","status-sent"),a.classList.add("status-error"),a.classList.add("status-error-catch"),window._paq){var l="error";"function"==typeof b.toString&&(l=b.toString()),window._paq.push(["trackEvent","actions","contact","error",l])}}},b=document.getElementsByClassName("contactform"),c=function d(c){b.item(c).onsubmit=function(d){d.preventDefault(),window._paq&&window._paq.push(["trackEvent","actions","contact","send"]),a(b.item(c))}},d=0;d<b.length;d++)c(d)}